<form [formGroup]="formulario" class="box mat-elevation-z8" (ngSubmit)="onSubmit()">
  <mat-form-field appearance="outline">
    <mat-label>Email</mat-label>
    <input matInput type="email" placeholder="digite seu email" formControlName="email" (blur)="checkEmail()">
    <mat-icon matSuffix>mail_outline</mat-icon>
    @if (isEmailExists) {
      <mat-hint>Email já existe</mat-hint>
    }
  </mat-form-field>
  <mat-form-field appearance="outline">
    <mat-label>Usuário</mat-label>
    <input matInput type="text" placeholder="digite seu nome" formControlName="name">
    <mat-icon matSuffix>person_outline</mat-icon>
  </mat-form-field>
  <mat-form-field appearance="outline">
    <mat-label>Senha</mat-label>
    <input matInput type="password" placeholder="digite sua senha" formControlName="password">
    <mat-icon matSuffix>password</mat-icon>
    @if (!isPasswordChecked && formulario.get('cpassword')?.touched) {
      <mat-hint>Senhas diferentes</mat-hint>
    }
  </mat-form-field>
  <mat-form-field appearance="outline">
    <mat-label>Confirmar senha</mat-label>
    <input matInput type="password" placeholder="digite sua senha novamente" formControlName="cpassword" (keyup)="checkPassword()">
    <mat-icon matSuffix>password</mat-icon>
  </mat-form-field>
  <button mat-raised-button color="primary" type="submit" [disabled]="formulario.invalid || !isPasswordChecked || isEmailExists">CRIAR CONTA</button>
</form>
